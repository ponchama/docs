{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Documentation Select your device DVL A50 Underwater GPS Explorer Kit Modem-M64 Locator-U1 Locator-S1 Locator-A1 Locator-D1 Receiver-D1 Master-D1","title":"Home"},{"location":"#documentation","text":"","title":"Documentation"},{"location":"#select-your-device","text":"","title":"Select your device"},{"location":"channels/","text":"Channel overview The channels used for the Water Linked acoustic products and what frequency band they are using are shown in the table below. From (kHz) To (kHz) Channels using this frequency band Comment 31.25 62.25 1 Not recommended for modem 62.25 93.75 2, 16 Recommended channel for best range on modem 93.75 125.00 3, 16 Recommended channel for best range on modem 125.00 156.00 4, 17 Not recommended for modem 156.00 187.00 5, 17 187.00 218.00 6, 18 218.00 250.00 7, 18 Please note that the Underwater GPS channels 16, 17, 18 overlaps multiple modem/Locator-U1 channels.","title":"Channel overview"},{"location":"channels/#channel-overview","text":"The channels used for the Water Linked acoustic products and what frequency band they are using are shown in the table below. From (kHz) To (kHz) Channels using this frequency band Comment 31.25 62.25 1 Not recommended for modem 62.25 93.75 2, 16 Recommended channel for best range on modem 93.75 125.00 3, 16 Recommended channel for best range on modem 125.00 156.00 4, 17 Not recommended for modem 156.00 187.00 5, 17 187.00 218.00 6, 18 218.00 250.00 7, 18 Please note that the Underwater GPS channels 16, 17, 18 overlaps multiple modem/Locator-U1 channels.","title":"Channel overview"},{"location":"helpful-links/","text":"Helpful links Release download: update.waterlinked.com Web demo: demo.waterlinked.com Forum: waterlinked.com/forum FAQ: waterlinked.com/faq API: demo.waterlinked.com/swagger API examples: waterlinked/examples Youtube: waterlinked/youtube Datasheets DVL A50 Modem M64 Underwater Explorer Kit Locator-U1 Locator-S1 Locator-D1 Locator-A1 Receiver-D1 Master-D1","title":"Helpful Links"},{"location":"helpful-links/#helpful-links","text":"Release download: update.waterlinked.com Web demo: demo.waterlinked.com Forum: waterlinked.com/forum FAQ: waterlinked.com/faq API: demo.waterlinked.com/swagger API examples: waterlinked/examples Youtube: waterlinked/youtube","title":"Helpful links"},{"location":"helpful-links/#datasheets","text":"DVL A50 Modem M64 Underwater Explorer Kit Locator-U1 Locator-S1 Locator-D1 Locator-A1 Receiver-D1 Master-D1","title":"Datasheets"},{"location":"master-d1/","text":"Master-D1 Electronics Description The Master-D1 is a digital acoustic position computing board. It calculates the position of any Locator relative to the position of the Receivers, as well as global position through use of the integrated GPS and IMU (compass). The board supports up to 7 independent D1 devices, 1 A1 device or 1 U1 device. It is accessed through a network interface. The Master-D1 is running its own webserver which exposes an API and a GUI. With its small physical footprint, the board is easily integrated into a topside housing. Benefits Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.) Wiring interface Make sure the LED is ON for all D1 interfaces that are connected. The digital D1 interfaces all have a separate LED to show if the communication link is in lock. When a Receiver-D1 or Locator-D1 cable is connected to the master board, the corresponding LED should be continuously ON. The silkscreen marking of the channel LEDs on the PCB are 0-indexed. The channel labels on the housing are 1-index. We thus get following LED channel mapping: Interface LED Receiver, channel 1 0 Receiver, channel 2 1 Receiver, channel 3 2 Receiver, channel 4 3 Locator-D1 6 The LED on the Locator-A1 interface is not in use. Dimensions The diagrams below shows the mechanical dimensions of the Master-D1 electronics. Setup Datasheet","title":"Master-D1"},{"location":"master-d1/#master-d1-electronics","text":"","title":"Master-D1 Electronics"},{"location":"master-d1/#description","text":"The Master-D1 is a digital acoustic position computing board. It calculates the position of any Locator relative to the position of the Receivers, as well as global position through use of the integrated GPS and IMU (compass). The board supports up to 7 independent D1 devices, 1 A1 device or 1 U1 device. It is accessed through a network interface. The Master-D1 is running its own webserver which exposes an API and a GUI. With its small physical footprint, the board is easily integrated into a topside housing.","title":"Description"},{"location":"master-d1/#benefits","text":"Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.)","title":"Benefits"},{"location":"master-d1/#wiring-interface","text":"Make sure the LED is ON for all D1 interfaces that are connected. The digital D1 interfaces all have a separate LED to show if the communication link is in lock. When a Receiver-D1 or Locator-D1 cable is connected to the master board, the corresponding LED should be continuously ON. The silkscreen marking of the channel LEDs on the PCB are 0-indexed. The channel labels on the housing are 1-index. We thus get following LED channel mapping: Interface LED Receiver, channel 1 0 Receiver, channel 2 1 Receiver, channel 3 2 Receiver, channel 4 3 Locator-D1 6 The LED on the Locator-A1 interface is not in use.","title":"Wiring interface"},{"location":"master-d1/#dimensions","text":"The diagrams below shows the mechanical dimensions of the Master-D1 electronics.","title":"Dimensions"},{"location":"master-d1/#setup","text":"Datasheet","title":"Setup"},{"location":"receiver-d1/","text":"Receiver-D1 Description The Receiver-D1 is a digital low-noise, high sensitivity hydro acoustic receiver that converts acoustic waves to a digital data stream. The receiver is equipped with a wideband analog front-end width a large dynamic range followed by advanced digital signal processing functionality. The electrical interface complies with the Water Linked D1 communication standard. Benefits Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.) Wiring interface The tables below shows the pinning of the Receiver interface connectors. Dimensions Datasheet","title":"Receiver-D1"},{"location":"receiver-d1/#receiver-d1","text":"","title":"Receiver-D1"},{"location":"receiver-d1/#description","text":"The Receiver-D1 is a digital low-noise, high sensitivity hydro acoustic receiver that converts acoustic waves to a digital data stream. The receiver is equipped with a wideband analog front-end width a large dynamic range followed by advanced digital signal processing functionality. The electrical interface complies with the Water Linked D1 communication standard.","title":"Description"},{"location":"receiver-d1/#benefits","text":"Extremely small footprint enabling easy integration in other equipment. Highly robust operation in areas with reflections (shallow water, around installations etc.)","title":"Benefits"},{"location":"receiver-d1/#wiring-interface","text":"The tables below shows the pinning of the Receiver interface connectors.","title":"Wiring interface"},{"location":"receiver-d1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"tutorials/","text":"Tutorials Setting up for the first time Setting up on a boat","title":"Tutorials"},{"location":"tutorials/#tutorials","text":"","title":"Tutorials"},{"location":"tutorials/#setting-up-for-the-first-time","text":"","title":"Setting up for the first time"},{"location":"tutorials/#setting-up-on-a-boat","text":"","title":"Setting up on a boat"},{"location":"dvl/dvl-a50-details/","text":"DVL-A50 details Axis convensions The axis on the DVL-A50 are oriented North-East-Down (NED) X axis is pointing forward (LED is forward, cable backward) Y axis is pointing right Z axis is pointing down (mounting holes are up, transducers are down) Transducer numbering Transducer beam width Half-power beam width is 4.4\u00b0 Line of sight Ethernet Interface The DVL has a few services available on ethernet: Multicast DNS (mDNS) for easy discovery Web gui for easy setup and diagnostic TCP low latency velocity updates Updater for software upgrades Multicast DNS (mDNS) Factory default for the DVL is to operate a DHCP client. This means it will attempt to obtain an IP address from a DHCP server on the same network. For convenience the DVL supports mDNS to easily discover the assigned IP address. The mDNS name used for the DVL is: waterlinked-dvl . Note If no DHCP server is avaiable on the network, it is recommended to configure a static ip address as the DVL can use up to 5 minutes searching for a DHCP server. Web GUI On operating systems supporting mDNS you can open the web GUI via the following URL: http://waterlinked-dvl . If mDNS is not supported you need to obtain the IP address of the DVL and use that in your browser (http://IP_ADDRESS). The web GUI shows the status of the DVL (velocity and altitude) as well as diagnostic information. The web GUI also allows for network configuration. Network config The DVL has two IP configuration options though the web GUI: DCHP client, where it obtains an IP address from a DHCP server on the same network. Static mode where the user sets the wanted IP address for the DVL. Once the IP configuration is modified the DVL needs to be rebooted for the settings take effect. TCP Output The DVL supports sending measurements updates using the Transmission Control Protocol (TCP). A TCP server is available on port 16171 which outputs the latest measurements to all the connected clients. In the web GUI you can see the number of connected clients and the format of the output message. See description of the output protocol . Software update To get the best performance of the DVL it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available. Automatic software update The easiest way of checking if a new version is available is to connect the DVL to the internet and let the upgrade GUI automatically check for a new version: Connect the DVL ethernet to a network where the internet is available and make sure the DVL network configuration allows access to the internet. Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. The upgrade GUI will automatically check if there is a new version available and allow installation of new upgrade with a single click. Offline software update If you are unable to connect the DVL to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the DVL web gui Manually download an upgrade package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. Select \"manual upload\" and then upload the downloaded file. Fallback IP For convenience the DVL will always be available with the static IP address: 192.168.194.95 . To be able to connect to the DVL using the fallback IP address perform following steps: Connect a ethernet cable directly from the DVL to your computer. Set static IP on your computer to be 192.168.194.90 In a web browser open http://192.168.194.95","title":"Details"},{"location":"dvl/dvl-a50-details/#dvl-a50-details","text":"","title":"DVL-A50 details"},{"location":"dvl/dvl-a50-details/#axis-convensions","text":"The axis on the DVL-A50 are oriented North-East-Down (NED) X axis is pointing forward (LED is forward, cable backward) Y axis is pointing right Z axis is pointing down (mounting holes are up, transducers are down)","title":"Axis convensions"},{"location":"dvl/dvl-a50-details/#transducer-numbering","text":"","title":"Transducer numbering"},{"location":"dvl/dvl-a50-details/#transducer-beam-width","text":"Half-power beam width is 4.4\u00b0","title":"Transducer beam width"},{"location":"dvl/dvl-a50-details/#line-of-sight","text":"","title":"Line of sight"},{"location":"dvl/dvl-a50-details/#ethernet-interface","text":"The DVL has a few services available on ethernet: Multicast DNS (mDNS) for easy discovery Web gui for easy setup and diagnostic TCP low latency velocity updates Updater for software upgrades","title":"Ethernet Interface"},{"location":"dvl/dvl-a50-details/#multicast-dns-mdns","text":"Factory default for the DVL is to operate a DHCP client. This means it will attempt to obtain an IP address from a DHCP server on the same network. For convenience the DVL supports mDNS to easily discover the assigned IP address. The mDNS name used for the DVL is: waterlinked-dvl . Note If no DHCP server is avaiable on the network, it is recommended to configure a static ip address as the DVL can use up to 5 minutes searching for a DHCP server.","title":"Multicast DNS (mDNS)"},{"location":"dvl/dvl-a50-details/#web-gui","text":"On operating systems supporting mDNS you can open the web GUI via the following URL: http://waterlinked-dvl . If mDNS is not supported you need to obtain the IP address of the DVL and use that in your browser (http://IP_ADDRESS). The web GUI shows the status of the DVL (velocity and altitude) as well as diagnostic information. The web GUI also allows for network configuration.","title":"Web GUI"},{"location":"dvl/dvl-a50-details/#network-config","text":"The DVL has two IP configuration options though the web GUI: DCHP client, where it obtains an IP address from a DHCP server on the same network. Static mode where the user sets the wanted IP address for the DVL. Once the IP configuration is modified the DVL needs to be rebooted for the settings take effect.","title":"Network config"},{"location":"dvl/dvl-a50-details/#tcp-output","text":"The DVL supports sending measurements updates using the Transmission Control Protocol (TCP). A TCP server is available on port 16171 which outputs the latest measurements to all the connected clients. In the web GUI you can see the number of connected clients and the format of the output message. See description of the output protocol .","title":"TCP Output"},{"location":"dvl/dvl-a50-details/#software-update","text":"To get the best performance of the DVL it is recommended to always run the latest software. The update GUI can automatically check if a new software version is available.","title":"Software update"},{"location":"dvl/dvl-a50-details/#automatic-software-update","text":"The easiest way of checking if a new version is available is to connect the DVL to the internet and let the upgrade GUI automatically check for a new version: Connect the DVL ethernet to a network where the internet is available and make sure the DVL network configuration allows access to the internet. Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. The upgrade GUI will automatically check if there is a new version available and allow installation of new upgrade with a single click.","title":"Automatic software update"},{"location":"dvl/dvl-a50-details/#offline-software-update","text":"If you are unable to connect the DVL to the internet, offline software update is available. The process is: Find the current version and chipid in the the \"about\" section of the DVL web gui Manually download an upgrade package (.wlup) from the update server using the chipid. Verify if the version downloaded is newer than the currently running version Go to http://waterlinked-dvl:9000 or http://IP_ADDRESS:9000. Select \"manual upload\" and then upload the downloaded file.","title":"Offline software update"},{"location":"dvl/dvl-a50-details/#fallback-ip","text":"For convenience the DVL will always be available with the static IP address: 192.168.194.95 . To be able to connect to the DVL using the fallback IP address perform following steps: Connect a ethernet cable directly from the DVL to your computer. Set static IP on your computer to be 192.168.194.90 In a web browser open http://192.168.194.95","title":"Fallback IP"},{"location":"dvl/dvl-a50/","text":"DVL-A50 Description The DVL A50 is \u2013 by far \u2013 the world\u2019s smallest commercially available Doppler Velocity Log. The A50 is establishing a new market standard with its high performance, ultra-small 4 beam setup, open interface protocol and low cost. The DVL estimates velocity relative to the sea bottom by sending acoustic waves from the four angled transducers and then measure the frequency shift (doppler effect) from the received echo. By combining the measurements of all four transducers and the time between each acoustic pulse, it is possible to very accurately estimate the speed and direction of movement. Key specifications 0.05 - 50 meter range 1 MHz transducer frequency 4-10 Hz ping rate (altitude dependent) 2 m/s max velocity \u00b1 0.1 cm/s long term accuracy 1000 meter depth rating 10-30 V input voltage (reversed-polarity protection) Ethernet and UART Note We are using a constant speed of sound equal to 1500 m/s (Release 1.3.1). This will be user configurable in comming releases. LED Signals No green light: Power is off. Flashing green light (slow): DVL loocking for bottom lock. Fixed green light: DVL has bottom lock. The LED is mostly on and blinks quickly to show we are alive. Wiring interface The tables below shows the pinning of the DVL-A50 interface. Interface Color Positive (10-30V) Red Negative/Ground Black ETH TX+ Orange/White ETH TX- Orange ETH RX+ Green/White ETH RX- Green UART TX Brown/White UART RX Brown Terminal Interface The DVL-A50 has a 3.3 volt UART interface (5V tolerant). Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Description of the serial protocol . Ethernet Interface Description of the ethernet services . Dimensions Mounting Holes Other details See details for description of axis conventions, transducer numbering and other details. Datasheet Datasheet","title":"Introduction"},{"location":"dvl/dvl-a50/#dvl-a50","text":"","title":"DVL-A50"},{"location":"dvl/dvl-a50/#description","text":"The DVL A50 is \u2013 by far \u2013 the world\u2019s smallest commercially available Doppler Velocity Log. The A50 is establishing a new market standard with its high performance, ultra-small 4 beam setup, open interface protocol and low cost. The DVL estimates velocity relative to the sea bottom by sending acoustic waves from the four angled transducers and then measure the frequency shift (doppler effect) from the received echo. By combining the measurements of all four transducers and the time between each acoustic pulse, it is possible to very accurately estimate the speed and direction of movement.","title":"Description"},{"location":"dvl/dvl-a50/#key-specifications","text":"0.05 - 50 meter range 1 MHz transducer frequency 4-10 Hz ping rate (altitude dependent) 2 m/s max velocity \u00b1 0.1 cm/s long term accuracy 1000 meter depth rating 10-30 V input voltage (reversed-polarity protection) Ethernet and UART Note We are using a constant speed of sound equal to 1500 m/s (Release 1.3.1). This will be user configurable in comming releases.","title":"Key specifications"},{"location":"dvl/dvl-a50/#led-signals","text":"No green light: Power is off. Flashing green light (slow): DVL loocking for bottom lock. Fixed green light: DVL has bottom lock. The LED is mostly on and blinks quickly to show we are alive.","title":"LED Signals"},{"location":"dvl/dvl-a50/#wiring-interface","text":"The tables below shows the pinning of the DVL-A50 interface. Interface Color Positive (10-30V) Red Negative/Ground Black ETH TX+ Orange/White ETH TX- Orange ETH RX+ Green/White ETH RX- Green UART TX Brown/White UART RX Brown","title":"Wiring interface"},{"location":"dvl/dvl-a50/#terminal-interface","text":"The DVL-A50 has a 3.3 volt UART interface (5V tolerant). Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Description of the serial protocol .","title":"Terminal Interface"},{"location":"dvl/dvl-a50/#ethernet-interface","text":"Description of the ethernet services .","title":"Ethernet Interface"},{"location":"dvl/dvl-a50/#dimensions","text":"","title":"Dimensions"},{"location":"dvl/dvl-a50/#mounting-holes","text":"","title":"Mounting Holes"},{"location":"dvl/dvl-a50/#other-details","text":"See details for description of axis conventions, transducer numbering and other details.","title":"Other details"},{"location":"dvl/dvl-a50/#datasheet","text":"Datasheet","title":"Datasheet"},{"location":"dvl/dvl-protocol/","text":"Water Linked DVL protocol This document describes the Water Linked DVL protocols (serial and ethernet). Terminology DVL - Doppler Velocity Log - Hydro-acoustic unit which uses acoustic beams to measure distance to bottom surface and the velocity which the unit is moving across the surface. ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed. Version This document describes protocol version 2.0.x (major.minor.patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represent incompatible API changes MINOR version increments represent added functionality in a backwards-compatible manner PATCH version increments represent backwards-compatible bug fixes Serial Protocol Overview The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the DVL start with a w and end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the DVL and the DVL replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked DVLs with different feature sets. To support any Water Linked DVL the connection procedure is to: Get protocol version. Verify that the major version number is 2. Get product detail. Verify product type is dvl. Note Checksum is optional when sending commands to the DVL. The DVL always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ). Commands Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,2.0.0 wcw Get product detail wrw, [type] , [name] , [version] , [chipID] , [IP address] Where type is dvl, name is product name, version is software version, chip ID is the chip ID and IP address is the IP if connected to DHCP server: eg: wrw,dvl,dvl-a50,1.3.0,0xdeadbeef,10.11.12.95 wcc Get configuration TBD Get configuration wcs, [TBD] Set configuration TBD Set configuration wrx, [details below] Velocities measured. See details below wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum Velocity report Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude and will be in the range is from 2-10 Hz. The X, Y, Z axis are oriented according to the marking on the DVL. The velocities measured response is on the following format: wrx, [time],[vx],[vy],[vz],[fom],[altitude],[valid] Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) valid If valid is \"y\" the DVL has lock on the bottom and the altitude and velocities are valid (y/n) Example: wrx,125,0.05,0.01,0.001,0.5,0.1,y Ethernet protocol (TCP) Overview The DVL supports sending velocity updates using the Transmission Control Protocol (TCP). The DVL runs a TCP server on port 16171. Each packet sent contains a velocity report from the DVL on JSON format. Velocity report Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude. The X, Y, Z axis are oriented according to the DVL. Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) velocity_valid If valid is true the DVL has lock on the bottom and the altitude and velocities are valid (true/false) status Reports if there are any issues with the DVL. 0 means no errors format Format type and version for the velocity report transducers Is a list containing information from each transducer: [id, velocity, distance, rssi, nsd, beam_valid] Example of TCP report. (indented for readability) { \"time\": 170.52674865722656, \"vx\": -0.00563613697886467, \"vy\": -0.007631152402609587, \"vz\": -0.007641898933798075, \"fom\": 0.001959984190762043, \"altitude\": 0.6173566579818726, \"transducers\": [ { \"id\": 0, \"velocity\": -0.007625679485499859, \"distance\": 0.6769760251045227, \"rssi\": 38.66838836669922, \"nsd\": 18.295578002929688, \"beam_valid\": true }, { \"id\": 1, \"velocity\": -0.0034413286484777927, \"distance\": 0.6769760251045227, \"rssi\": 35.403541564941406, \"nsd\": 19.518909454345703, \"beam_valid\": true }, { \"id\": 2, \"velocity\": -0.006717036943882704, \"distance\": 0.6653040051460266, \"rssi\": 41.03888702392578, \"nsd\": 20.25017738342285, \"beam_valid\": true }, { \"id\": 3, \"velocity\": -0.01045388076454401, \"distance\": 0.6536320447921753, \"rssi\": 31.09071922302246, \"nsd\": 17.366933822631836, \"beam_valid\": true } ], \"velocity_valid\": true, \"status\": 0, \"format\": \"json_v1\" }","title":"Protocol"},{"location":"dvl/dvl-protocol/#water-linked-dvl-protocol","text":"This document describes the Water Linked DVL protocols (serial and ethernet).","title":"Water Linked DVL protocol"},{"location":"dvl/dvl-protocol/#terminology","text":"DVL - Doppler Velocity Log - Hydro-acoustic unit which uses acoustic beams to measure distance to bottom surface and the velocity which the unit is moving across the surface. ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed.","title":"Terminology"},{"location":"dvl/dvl-protocol/#version","text":"This document describes protocol version 2.0.x (major.minor.patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represent incompatible API changes MINOR version increments represent added functionality in a backwards-compatible manner PATCH version increments represent backwards-compatible bug fixes","title":"Version"},{"location":"dvl/dvl-protocol/#serial-protocol","text":"","title":"Serial Protocol"},{"location":"dvl/dvl-protocol/#overview","text":"The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the DVL start with a w and end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the DVL and the DVL replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked DVLs with different feature sets. To support any Water Linked DVL the connection procedure is to: Get protocol version. Verify that the major version number is 2. Get product detail. Verify product type is dvl. Note Checksum is optional when sending commands to the DVL. The DVL always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ).","title":"Overview"},{"location":"dvl/dvl-protocol/#commands","text":"Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,2.0.0 wcw Get product detail wrw, [type] , [name] , [version] , [chipID] , [IP address] Where type is dvl, name is product name, version is software version, chip ID is the chip ID and IP address is the IP if connected to DHCP server: eg: wrw,dvl,dvl-a50,1.3.0,0xdeadbeef,10.11.12.95 wcc Get configuration TBD Get configuration wcs, [TBD] Set configuration TBD Set configuration wrx, [details below] Velocities measured. See details below wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum","title":"Commands"},{"location":"dvl/dvl-protocol/#velocity-report","text":"Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude and will be in the range is from 2-10 Hz. The X, Y, Z axis are oriented according to the marking on the DVL. The velocities measured response is on the following format: wrx, [time],[vx],[vy],[vz],[fom],[altitude],[valid] Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) valid If valid is \"y\" the DVL has lock on the bottom and the altitude and velocities are valid (y/n) Example: wrx,125,0.05,0.01,0.001,0.5,0.1,y","title":"Velocity report"},{"location":"dvl/dvl-protocol/#ethernet-protocol-tcp","text":"","title":"Ethernet protocol (TCP)"},{"location":"dvl/dvl-protocol/#overview_1","text":"The DVL supports sending velocity updates using the Transmission Control Protocol (TCP). The DVL runs a TCP server on port 16171. Each packet sent contains a velocity report from the DVL on JSON format.","title":"Overview"},{"location":"dvl/dvl-protocol/#velocity-report_1","text":"Velocity report is outputted after each measurement has been completed. The expected update rate varies depending on the altitude. The X, Y, Z axis are oriented according to the DVL. Variable Description time Milliseconds since last velocity report (ms) vx Measured velocity in x direction (m/s) vy Measured velocity in y direction (m/s) vz Measured velocity in z direction (m/s) fom Figure of merit, a measure of the accuracy of the measured velocities (m/s) altitude Measured altitude to the bottom (m) velocity_valid If valid is true the DVL has lock on the bottom and the altitude and velocities are valid (true/false) status Reports if there are any issues with the DVL. 0 means no errors format Format type and version for the velocity report transducers Is a list containing information from each transducer: [id, velocity, distance, rssi, nsd, beam_valid] Example of TCP report. (indented for readability) { \"time\": 170.52674865722656, \"vx\": -0.00563613697886467, \"vy\": -0.007631152402609587, \"vz\": -0.007641898933798075, \"fom\": 0.001959984190762043, \"altitude\": 0.6173566579818726, \"transducers\": [ { \"id\": 0, \"velocity\": -0.007625679485499859, \"distance\": 0.6769760251045227, \"rssi\": 38.66838836669922, \"nsd\": 18.295578002929688, \"beam_valid\": true }, { \"id\": 1, \"velocity\": -0.0034413286484777927, \"distance\": 0.6769760251045227, \"rssi\": 35.403541564941406, \"nsd\": 19.518909454345703, \"beam_valid\": true }, { \"id\": 2, \"velocity\": -0.006717036943882704, \"distance\": 0.6653040051460266, \"rssi\": 41.03888702392578, \"nsd\": 20.25017738342285, \"beam_valid\": true }, { \"id\": 3, \"velocity\": -0.01045388076454401, \"distance\": 0.6536320447921753, \"rssi\": 31.09071922302246, \"nsd\": 17.366933822631836, \"beam_valid\": true } ], \"velocity_valid\": true, \"status\": 0, \"format\": \"json_v1\" }","title":"Velocity report"},{"location":"dvl/io-interface/","text":"Overview The IO Interface provides simple means of connection to the Water Linked DVLs. It provides magnetics for the ethernet connection and utilizes the Molex Micro-Fit 3.0 power connector which is standard for Water Linked products. There currently exists two revisions of the IO Interface. They are electrically identical. Revision 3 Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Fits W\u00fcrth 691137710002 Revision 2 Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Note The Molex Micro-Fit 3.0 on revision 2 is prone to damage by excessive sideways force. Take care not the yank the power cable when connected.","title":"IO Interface"},{"location":"dvl/io-interface/#overview","text":"The IO Interface provides simple means of connection to the Water Linked DVLs. It provides magnetics for the ethernet connection and utilizes the Molex Micro-Fit 3.0 power connector which is standard for Water Linked products. There currently exists two revisions of the IO Interface. They are electrically identical.","title":"Overview"},{"location":"dvl/io-interface/#revision-3","text":"Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Fits W\u00fcrth 691137710002","title":"Revision 3"},{"location":"dvl/io-interface/#revision-2","text":"Connector Function Comment RJ45 (8P8C) Ethernet 10/100 BASE-T 3x1 header Serial TX, RX, GND Molex Micro-Fit 3.0 Power 10 - 30 VDC 2x \u00d81.5mm pads Alt. power Note The Molex Micro-Fit 3.0 on revision 2 is prone to damage by excessive sideways force. Take care not the yank the power cable when connected.","title":"Revision 2"},{"location":"explorer-kit/hardware/","text":"Hardware Setup Connectors Connect the four Receiver-D1 cables to channel 1 to 4 on the housing. If using the Locator-D1, connect this to the D1 connector on the housing. If using the Locator-A1, connect this to the A1 connector on the housing. If using the Locator-S1, no connections to the housing is needed. Just power the Locator and make sure both the status led on S1 and master is solid green. GPS The on-board GPS module is used to position the system in a global reference system. An external antenna with integrated amplifier is used to improve GPS reception. The signal strength of the GPS can be seen on the top bar in the web GUI. GPS-antenna assembly The GPS-antenna can be mounted anywhere you want, but remember the GPS-antenna is the origin of the master electronics position. Therefor it is recommended to fasten the antenna on the lid of the peli case. With the 3M double sided tape, attach the GPS- antenna to the lid of the peli case. Connect the GPS-antenna cable to the SMA connector on the master electronics. Torque the SMA nut to 3\u20135 in\u00b7lbf (0.3 to 0.6 N\u00b7m) or slightly more than finger tight. IMU The master electronics has an built in IMU used to provide the orientation of the master electronics. This is used in combination with the acoustic position and GPS to generate the global position of the Locator. IMU Calibration For the IMU to work properly it needs to be calibrated. The calibration data is stored when full calibration is obtained for faster calibration on restart of the system. If the system is started on a new location a new calibration is needed for the IMU to work as intended. To calibrate the IMU disconnect all Recivers and Locator cables, but leave power and Ethernet connected. This is to prevent damaging the cables and connector when performing the calibration. While looking at the top bar in the web GUI on the IMU status, move the peli case in a figure of 8 until all the bars are green.","title":"Hardware"},{"location":"explorer-kit/hardware/#hardware-setup","text":"","title":"Hardware Setup"},{"location":"explorer-kit/hardware/#connectors","text":"Connect the four Receiver-D1 cables to channel 1 to 4 on the housing. If using the Locator-D1, connect this to the D1 connector on the housing. If using the Locator-A1, connect this to the A1 connector on the housing. If using the Locator-S1, no connections to the housing is needed. Just power the Locator and make sure both the status led on S1 and master is solid green.","title":"Connectors"},{"location":"explorer-kit/hardware/#gps","text":"The on-board GPS module is used to position the system in a global reference system. An external antenna with integrated amplifier is used to improve GPS reception. The signal strength of the GPS can be seen on the top bar in the web GUI.","title":"GPS"},{"location":"explorer-kit/hardware/#gps-antenna-assembly","text":"The GPS-antenna can be mounted anywhere you want, but remember the GPS-antenna is the origin of the master electronics position. Therefor it is recommended to fasten the antenna on the lid of the peli case. With the 3M double sided tape, attach the GPS- antenna to the lid of the peli case. Connect the GPS-antenna cable to the SMA connector on the master electronics. Torque the SMA nut to 3\u20135 in\u00b7lbf (0.3 to 0.6 N\u00b7m) or slightly more than finger tight.","title":"GPS-antenna assembly"},{"location":"explorer-kit/hardware/#imu","text":"The master electronics has an built in IMU used to provide the orientation of the master electronics. This is used in combination with the acoustic position and GPS to generate the global position of the Locator.","title":"IMU"},{"location":"explorer-kit/hardware/#imu-calibration","text":"For the IMU to work properly it needs to be calibrated. The calibration data is stored when full calibration is obtained for faster calibration on restart of the system. If the system is started on a new location a new calibration is needed for the IMU to work as intended. To calibrate the IMU disconnect all Recivers and Locator cables, but leave power and Ethernet connected. This is to prevent damaging the cables and connector when performing the calibration. While looking at the top bar in the web GUI on the IMU status, move the peli case in a figure of 8 until all the bars are green.","title":"IMU Calibration"},{"location":"explorer-kit/introduction/","text":"Introduction Underwater GPS Explorer Kit The Underwater GPS Explorer Kit is a robust and reliable acoustic positioning system with a range of 100m. The purpose of the system is to give a live GPS position of ROVs, divers and other moving objects below the water surface. The Underwater GPS system is based on Short Baseline (SBL) acoustic positioning. The Locator is placed on the device to be positioned and functions as a beacon that send out an acoustic pulse. Near the surface, there are four Receiver hydrophones lowered into the water. The Receivers listen for the pulse from the locator. Time-of-arrival to each Receiver is used to calculate the Locator\u2019s position. SBL systems, compared to the USBL systems, have the advantage of working well in shallow water and acoustic reflective environments, such as in fish cages, near harbor installations, close to ship hulls, inside water tanks etc. Once the position is known relative to the Receivers, the global position can be found by adding that to the position obtained by a GPS receiver. The Underwater GPS system does that part internally so that it can provide the actual global position of the ROV as it's output. Kit content 1 x Underwater GPS Housing with Master-D1 electronics 4 x Receiver-D1 with 10m cable 1 x Locator of choice 1 x 3m Ethernet cable 1 x 3m power cable 1 x External GPS antenna Quickstart Getting started with Waterlinked Underwater GPS User Manual The information in this site was earlier available in a PDF which is now outdated but useful for offline use. Outdated Water Linked Underwater GPS User Manual Collaboration This document is created using markdown and is hosted on GitHub. If you find something that is not documented well enough, typos or any other mistakes. Please open an issue or create a pull request to fix the problem. Or just simply hit the edit button on the top of the page. Discussion If you have more questions which is not answered on this page please go to our forum where we will be happy to answer you. Datasheet","title":"Introduction"},{"location":"explorer-kit/introduction/#introduction","text":"","title":"Introduction"},{"location":"explorer-kit/introduction/#underwater-gps-explorer-kit","text":"The Underwater GPS Explorer Kit is a robust and reliable acoustic positioning system with a range of 100m. The purpose of the system is to give a live GPS position of ROVs, divers and other moving objects below the water surface. The Underwater GPS system is based on Short Baseline (SBL) acoustic positioning. The Locator is placed on the device to be positioned and functions as a beacon that send out an acoustic pulse. Near the surface, there are four Receiver hydrophones lowered into the water. The Receivers listen for the pulse from the locator. Time-of-arrival to each Receiver is used to calculate the Locator\u2019s position. SBL systems, compared to the USBL systems, have the advantage of working well in shallow water and acoustic reflective environments, such as in fish cages, near harbor installations, close to ship hulls, inside water tanks etc. Once the position is known relative to the Receivers, the global position can be found by adding that to the position obtained by a GPS receiver. The Underwater GPS system does that part internally so that it can provide the actual global position of the ROV as it's output.","title":"Underwater GPS Explorer Kit"},{"location":"explorer-kit/introduction/#kit-content","text":"1 x Underwater GPS Housing with Master-D1 electronics 4 x Receiver-D1 with 10m cable 1 x Locator of choice 1 x 3m Ethernet cable 1 x 3m power cable 1 x External GPS antenna","title":"Kit content"},{"location":"explorer-kit/introduction/#quickstart","text":"Getting started with Waterlinked Underwater GPS","title":"Quickstart"},{"location":"explorer-kit/introduction/#user-manual","text":"The information in this site was earlier available in a PDF which is now outdated but useful for offline use. Outdated Water Linked Underwater GPS User Manual","title":"User Manual"},{"location":"explorer-kit/introduction/#collaboration","text":"This document is created using markdown and is hosted on GitHub. If you find something that is not documented well enough, typos or any other mistakes. Please open an issue or create a pull request to fix the problem. Or just simply hit the edit button on the top of the page.","title":"Collaboration"},{"location":"explorer-kit/introduction/#discussion","text":"If you have more questions which is not answered on this page please go to our forum where we will be happy to answer you. Datasheet","title":"Discussion"},{"location":"explorer-kit/network-settings/","text":"Network Settings At power-up, the Master-D1 reads the DIP-switch settings. The network mode depends on the GP0 and GP1 position. Network mode GP0 GP1 DIP switch position DHCP client ON ON Static IP 192.168.2.94 OFF ON Static custom IP ON OFF DHCP Server, 192.168.0.1 OFF OFF The BS0 and BS1 positions on the dip switch shall both be ON. These boot-select pins are used in factory programming only. Use the supplied Ethernet cable to connect the Underwater GPS to a network switch or directly into the host computer. Note The host computer connected to the topside unit needs to have an IP-address on the same subnet as set on the Master-D1. For example: If the IP address of the UGPS is 192.168.2.94 the host computer needs to be configured to a different 192.168.2.x address e.g. 192.168.2.100.","title":"Network settings"},{"location":"explorer-kit/network-settings/#network-settings","text":"At power-up, the Master-D1 reads the DIP-switch settings. The network mode depends on the GP0 and GP1 position. Network mode GP0 GP1 DIP switch position DHCP client ON ON Static IP 192.168.2.94 OFF ON Static custom IP ON OFF DHCP Server, 192.168.0.1 OFF OFF The BS0 and BS1 positions on the dip switch shall both be ON. These boot-select pins are used in factory programming only. Use the supplied Ethernet cable to connect the Underwater GPS to a network switch or directly into the host computer. Note The host computer connected to the topside unit needs to have an IP-address on the same subnet as set on the Master-D1. For example: If the IP address of the UGPS is 192.168.2.94 the host computer needs to be configured to a different 192.168.2.x address e.g. 192.168.2.100.","title":"Network Settings"},{"location":"explorer-kit/power-supply/","text":"Power supply The power cable comes with stripped jacket. Connect the stripped cables to your favorite 12V power source. Black : Negative Red : Positive Voltage : 10 \u2013 18V Current : 0.7A (12V nominal)","title":"Power supply"},{"location":"explorer-kit/power-supply/#power-supply","text":"The power cable comes with stripped jacket. Connect the stripped cables to your favorite 12V power source. Black : Negative Red : Positive Voltage : 10 \u2013 18V Current : 0.7A (12V nominal)","title":"Power supply"},{"location":"explorer-kit/quickstart/","text":"Quickstart Intro This is a guide on how to start using the Underwater GPS system. The steps are: Power the topside unit Calibrate IMU Deploying receivers Connect everything Select locator and channel Configure receiver placement in GUI Power the topside unit Start by connecting power to the topside unit. We do this first because we want the GPS receiver to start receiving signals and acheive a lock while we setup the rest of the system. If you are using the Locator-S1, power it on now so it also have time to get GPS lock. Calibrate IMU Connect the Ethernet cable to the topside unit and your computer. Then open your web browser and type in the IP-address of your topside unit which is defined by the position of the dip-switch on the Master-D1. How to change the IP-address is described here . At the top bar on the GUI you will see a calibration bar for the IMU. To calibrate the IMU rotate it in a figure of 8 and keep doing it until the IMU calibration bar becomes full and green. Deploying of receivers Before starting to deploy the receivers in the water, add a piece of tape on the receiver cable on the desired depth to make setup easier. Place the receivers in the water on the desired location and decide which number (1-4) each receiver will have. This is important when connecting the receivers to the topside unit. Tip Adding lead weights just above the receiver helps keep them stable when doing the positioning. Connect everything When connecting the receiver cables to the topside unit remember the numbering you decided on and connect the connector to the accordingly port. If this is not correct the position will be completely wrong. Next you connect the Locator if you are using the A1 or D1. Select locator and channel Now that everything is connected and ready it is time to select the right locator and choose which channal to listen on. This is configurated on the setting page of the web GUI. The Water Linked standard is to use channel 17 and this is also the default channel for the Locator-S1. Configure receiver placement and seach range in GUI After selecting the correct locator, you need to provide the correct placement of the receivers to the GUI for the positioning to work correctly. This is done by drag'n drop of each receiver to the correct placment relative to the topside unit. The position of each receiver is seen below in the map view. It you click on the receiver you get a pop up with the possibility to write its exact placment. Once this is done you can limit the search range by using the same drag and drop feature. Warning If you are using the Locator-A1 or S1, you need to provide depth information to the topside unit. Description on how to do this is found here . Tip Reducing the search range helps to improve the performance of the system. It is recomended to limith this range if you are operating in a smaller area. This is especially important in tanks. You are now ready to explore the underwater world and knowing where you are at the same time.","title":"Quickstart"},{"location":"explorer-kit/quickstart/#quickstart","text":"","title":"Quickstart"},{"location":"explorer-kit/quickstart/#intro","text":"This is a guide on how to start using the Underwater GPS system. The steps are: Power the topside unit Calibrate IMU Deploying receivers Connect everything Select locator and channel Configure receiver placement in GUI","title":"Intro"},{"location":"explorer-kit/quickstart/#power-the-topside-unit","text":"Start by connecting power to the topside unit. We do this first because we want the GPS receiver to start receiving signals and acheive a lock while we setup the rest of the system. If you are using the Locator-S1, power it on now so it also have time to get GPS lock.","title":"Power the topside unit"},{"location":"explorer-kit/quickstart/#calibrate-imu","text":"Connect the Ethernet cable to the topside unit and your computer. Then open your web browser and type in the IP-address of your topside unit which is defined by the position of the dip-switch on the Master-D1. How to change the IP-address is described here . At the top bar on the GUI you will see a calibration bar for the IMU. To calibrate the IMU rotate it in a figure of 8 and keep doing it until the IMU calibration bar becomes full and green.","title":"Calibrate IMU"},{"location":"explorer-kit/quickstart/#deploying-of-receivers","text":"Before starting to deploy the receivers in the water, add a piece of tape on the receiver cable on the desired depth to make setup easier. Place the receivers in the water on the desired location and decide which number (1-4) each receiver will have. This is important when connecting the receivers to the topside unit. Tip Adding lead weights just above the receiver helps keep them stable when doing the positioning.","title":"Deploying of receivers"},{"location":"explorer-kit/quickstart/#connect-everything","text":"When connecting the receiver cables to the topside unit remember the numbering you decided on and connect the connector to the accordingly port. If this is not correct the position will be completely wrong. Next you connect the Locator if you are using the A1 or D1.","title":"Connect everything"},{"location":"explorer-kit/quickstart/#select-locator-and-channel","text":"Now that everything is connected and ready it is time to select the right locator and choose which channal to listen on. This is configurated on the setting page of the web GUI. The Water Linked standard is to use channel 17 and this is also the default channel for the Locator-S1.","title":"Select locator and channel"},{"location":"explorer-kit/quickstart/#configure-receiver-placement-and-seach-range-in-gui","text":"After selecting the correct locator, you need to provide the correct placement of the receivers to the GUI for the positioning to work correctly. This is done by drag'n drop of each receiver to the correct placment relative to the topside unit. The position of each receiver is seen below in the map view. It you click on the receiver you get a pop up with the possibility to write its exact placment. Once this is done you can limit the search range by using the same drag and drop feature. Warning If you are using the Locator-A1 or S1, you need to provide depth information to the topside unit. Description on how to do this is found here . Tip Reducing the search range helps to improve the performance of the system. It is recomended to limith this range if you are operating in a smaller area. This is especially important in tanks. You are now ready to explore the underwater world and knowing where you are at the same time.","title":"Configure receiver placement and seach range in GUI"},{"location":"explorer-kit/trouble-shooting/","text":"Trouble shooting If you are experiencing issues with the Underwater GPS look at the following points to help you trouble shoot. Resolving errors The top right corner of the GUI shows error messages from the Underwater GPS. Positioning will not work until they are resolved. The table below describes the error messages and how to solve the problem. Message Solition No external depth received. Is it being sent correctly? The Underwater GPS is not receiving the depth of the Locator from the ROV. This normally means software on the ROV is not working correctly. Details on how the depth is sent to the system can be found here . No signal from Locator-U1. Have you selected the correct channel? Verify that the Locator-U1 is powered on and that it has GPS lock (See LED signals ). Verify that the same channel is selected on the settings page and the Locator rotaty switch. Verify that the Locator and Receivers are in the water Missing GPS lock/position. Please provide me with unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync purposes. Move the GPS antenna to another location where it has better view of the sky. Locator-D1 not detected. Please verify connection. Locator-D1 selected but not detected by the Master-D1. Verify connection. Receiver X not detected. Please verify connection. Receiver X is not detected by the Master-D1. Verify connection. External satellite position is required but not received. External position is selected, but not received via the API . Typically this is an external software not started or not working. External orientation is required but not received. External orientation is selected, but not received via the API . Typically this is an external software not started or not working. IMU is not calibrated: position will not be accurate. Please rotate the kit to calibrate or use external orientation source. See IMU calibration for details on how calibrate. GPS has no position, please provide me with an unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync porpuses. Move the GPS antenna to another location where it has better view of the sky. Network setup Are you able to see the Underwater GPS GUI? What is the setting of the DIP switches for configuring network? If the DIP switches are set to a static IP: Have you configured a static IP for your computer? Are you connecting directly to the Master-D1 or is your computer on the same network? Generic Are you running the latest software version? Are there any warnings displayed in the GUI? Receiver setup Are the receivers connected to the correct ports (numbered 1-4) on the peli case? Have you measured the distances to the recivers correctly and are the distances matching the measurements in the recieiver setup of the GUI? Is the search range matching the operational area? If receivers are on a line, have you limited the search area to 1 side of the \"line\"? Try lift receiver 1 out of the water and verify that receiver 1 has a flat signal in the diagnostic view. Repeat for the other receivers. This helps verify that you have connected correctly. Settings Have you selected the correct channel when using Locator-U1 or Locator-S1? If you are statinary: Have you selected a static position for the GPS and IMU? If you are moving: Have you selected on-board (or external) GPS and IMU? Diagnostic page Is there signal from all of the receivers? Is there a significant peek in the signal for each receiver? Is there noise from an nearby echo sounder which is causing acoustic interference? Such an interference can be seen in the diagnostic view. See diagnostic explanation for more details.","title":"Trouble shooting"},{"location":"explorer-kit/trouble-shooting/#trouble-shooting","text":"If you are experiencing issues with the Underwater GPS look at the following points to help you trouble shoot.","title":"Trouble shooting"},{"location":"explorer-kit/trouble-shooting/#resolving-errors","text":"The top right corner of the GUI shows error messages from the Underwater GPS. Positioning will not work until they are resolved. The table below describes the error messages and how to solve the problem. Message Solition No external depth received. Is it being sent correctly? The Underwater GPS is not receiving the depth of the Locator from the ROV. This normally means software on the ROV is not working correctly. Details on how the depth is sent to the system can be found here . No signal from Locator-U1. Have you selected the correct channel? Verify that the Locator-U1 is powered on and that it has GPS lock (See LED signals ). Verify that the same channel is selected on the settings page and the Locator rotaty switch. Verify that the Locator and Receivers are in the water Missing GPS lock/position. Please provide me with unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync purposes. Move the GPS antenna to another location where it has better view of the sky. Locator-D1 not detected. Please verify connection. Locator-D1 selected but not detected by the Master-D1. Verify connection. Receiver X not detected. Please verify connection. Receiver X is not detected by the Master-D1. Verify connection. External satellite position is required but not received. External position is selected, but not received via the API . Typically this is an external software not started or not working. External orientation is required but not received. External orientation is selected, but not received via the API . Typically this is an external software not started or not working. IMU is not calibrated: position will not be accurate. Please rotate the kit to calibrate or use external orientation source. See IMU calibration for details on how calibrate. GPS has no position, please provide me with an unobstructed view of the sky. The Underwater GPS needs GPS lock for time sync porpuses. Move the GPS antenna to another location where it has better view of the sky.","title":"Resolving errors"},{"location":"explorer-kit/trouble-shooting/#network-setup","text":"Are you able to see the Underwater GPS GUI? What is the setting of the DIP switches for configuring network? If the DIP switches are set to a static IP: Have you configured a static IP for your computer? Are you connecting directly to the Master-D1 or is your computer on the same network?","title":"Network setup"},{"location":"explorer-kit/trouble-shooting/#generic","text":"Are you running the latest software version? Are there any warnings displayed in the GUI?","title":"Generic"},{"location":"explorer-kit/trouble-shooting/#receiver-setup","text":"Are the receivers connected to the correct ports (numbered 1-4) on the peli case? Have you measured the distances to the recivers correctly and are the distances matching the measurements in the recieiver setup of the GUI? Is the search range matching the operational area? If receivers are on a line, have you limited the search area to 1 side of the \"line\"? Try lift receiver 1 out of the water and verify that receiver 1 has a flat signal in the diagnostic view. Repeat for the other receivers. This helps verify that you have connected correctly.","title":"Receiver setup"},{"location":"explorer-kit/trouble-shooting/#settings","text":"Have you selected the correct channel when using Locator-U1 or Locator-S1? If you are statinary: Have you selected a static position for the GPS and IMU? If you are moving: Have you selected on-board (or external) GPS and IMU?","title":"Settings"},{"location":"explorer-kit/trouble-shooting/#diagnostic-page","text":"Is there signal from all of the receivers? Is there a significant peek in the signal for each receiver? Is there noise from an nearby echo sounder which is causing acoustic interference? Such an interference can be seen in the diagnostic view. See diagnostic explanation for more details.","title":"Diagnostic page"},{"location":"explorer-kit/upgrader/","text":"Software update As of software release 2.1.0 the system automaticly checks for updates when the host computer is connected to internet. If you have the latest release you will see a green checkmark as shown below. An exclamation mark will indicate if a newer release is available. A software update package (.wlup file) includes all files required to update the system. The software package is encrypted and will only work for the Chip ID it is generated for. The Chip ID can be found in the About tab of the GUI. Update process Please select the update process that is best suited to you: If the Underwater GPS GUI is visible to you on http://192.168.2.94 please use the Update with static IP . If the Underwater GPS GUI is not shown when using the link above, please use the Update with DHCP . Warning The software upgrade will clear the receiver configuration, settings and POIs. Make sure to save the information you need before upgrading. Download software package To get the latest software package for your kit: Download directly from the \"About\" page of the Underwater GPS GUI Alternatively: Go to update.waterlinked.com and enter the Chip ID of your kit. Update using static IP This procedure works if you have haven't changed the jumpers on the Master-D1, you have set up a static IP address on your computer and you are able to see the gui on http://192.168.2.94 . Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 4 Power on the system 6 Go to web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 7 Remove the upgade plug or the jumper grounding GP0. 8 Click \u201cBrowse file\u201d and select correct <>.wlup file 9 Wait for update process to complete 10 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 11 Verify that the SW version has updated by going to the web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 12 Upgrade process complete Celebrate with your favorite beverage Update using DHCP This procedure works if you don't know how to set a static IP address on your computer. Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Set Master-D1 to DHCP Server. (Remember original setting) See network settings 4 Connect a network cable directly from your computer to the Master-D1 5 Configure the network on your computer to get IP address from DHCP (this is default on most computers, so if you haven't set a static ip you're good) 6 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 7 Power on the system 8 Go to web GUI http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 9 Remove the grounding of GP0. 10 Click \u201cBrowse file\u201d and select correct <>.wlup file 11 Wait for update process to complete 12 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 13 Verify that the SW version has updated by going to the web gui http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 14 Reset network settings to original setting from step 2 See network settings . 15 Upgrade process complete Celebrate with your favorite beverage","title":"Software Update"},{"location":"explorer-kit/upgrader/#software-update","text":"As of software release 2.1.0 the system automaticly checks for updates when the host computer is connected to internet. If you have the latest release you will see a green checkmark as shown below. An exclamation mark will indicate if a newer release is available. A software update package (.wlup file) includes all files required to update the system. The software package is encrypted and will only work for the Chip ID it is generated for. The Chip ID can be found in the About tab of the GUI.","title":"Software update"},{"location":"explorer-kit/upgrader/#update-process","text":"Please select the update process that is best suited to you: If the Underwater GPS GUI is visible to you on http://192.168.2.94 please use the Update with static IP . If the Underwater GPS GUI is not shown when using the link above, please use the Update with DHCP . Warning The software upgrade will clear the receiver configuration, settings and POIs. Make sure to save the information you need before upgrading.","title":"Update process"},{"location":"explorer-kit/upgrader/#download-software-package","text":"To get the latest software package for your kit: Download directly from the \"About\" page of the Underwater GPS GUI Alternatively: Go to update.waterlinked.com and enter the Chip ID of your kit.","title":"Download software package"},{"location":"explorer-kit/upgrader/#update-using-static-ip","text":"This procedure works if you have haven't changed the jumpers on the Master-D1, you have set up a static IP address on your computer and you are able to see the gui on http://192.168.2.94 . Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 4 Power on the system 6 Go to web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 7 Remove the upgade plug or the jumper grounding GP0. 8 Click \u201cBrowse file\u201d and select correct <>.wlup file 9 Wait for update process to complete 10 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 11 Verify that the SW version has updated by going to the web gui http://192.168.2.94 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 12 Upgrade process complete Celebrate with your favorite beverage","title":"Update using static IP"},{"location":"explorer-kit/upgrader/#update-using-dhcp","text":"This procedure works if you don't know how to set a static IP address on your computer. Step Description 1 Download the software package (.wlup) for your kit Download software package 2 Power off the system 3 Set Master-D1 to DHCP Server. (Remember original setting) See network settings 4 Connect a network cable directly from your computer to the Master-D1 5 Configure the network on your computer to get IP address from DHCP (this is default on most computers, so if you haven't set a static ip you're good) 6 Connect the upgrade plug included in the kit or connect GPIO0 to ground using a jumper cable 7 Power on the system 8 Go to web GUI http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 9 Remove the grounding of GP0. 10 Click \u201cBrowse file\u201d and select correct <>.wlup file 11 Wait for update process to complete 12 When the update process is complete and successful, the system will automatically reboot to standard mode If process fails, please try again 13 Verify that the SW version has updated by going to the web gui http://192.168.0.1 If you see a blank or partly broken page, try to clean browser cache by pressing Ctrl-F5 or opening the page in \"Private\"/\"Incognito\" mode 14 Reset network settings to original setting from step 2 See network settings . 15 Upgrade process complete Celebrate with your favorite beverage","title":"Update using DHCP"},{"location":"explorer-kit/warnings/","text":"Warnings To avoid the risk of damage to the Underwater GPS, please read this user manual carefully before it is installed and used for the first time. Operation area The Underwater GPS system ONLY work in water. It does not work in air. Max voltage The absolute maximum voltage rating of the equipment is 18V. Voltages above this will damage the electronics. Reverse voltage The board does not have reverse polarity protection. Do not apply a negative voltage to the red power wire as this will damage the electronics. Temperature Make sure the system does not overheat. Avoid placing it in direct sunlight over extended periods of time. Salt water The Master-D1 Electronics will corrode if it comes in contact with salt water. Keep the housing lid closed when in the field to avoid salt water to get in contact with any electronics. Force Avoid using excessive force on connectors, screws and other parts of the system as this can lead to mechanical damage.","title":"Warnings"},{"location":"explorer-kit/warnings/#warnings","text":"To avoid the risk of damage to the Underwater GPS, please read this user manual carefully before it is installed and used for the first time. Operation area The Underwater GPS system ONLY work in water. It does not work in air. Max voltage The absolute maximum voltage rating of the equipment is 18V. Voltages above this will damage the electronics. Reverse voltage The board does not have reverse polarity protection. Do not apply a negative voltage to the red power wire as this will damage the electronics. Temperature Make sure the system does not overheat. Avoid placing it in direct sunlight over extended periods of time. Salt water The Master-D1 Electronics will corrode if it comes in contact with salt water. Keep the housing lid closed when in the field to avoid salt water to get in contact with any electronics. Force Avoid using excessive force on connectors, screws and other parts of the system as this can lead to mechanical damage.","title":"Warnings"},{"location":"explorer-kit/gui/api/","text":"API The Underwater GPS system comes with an easy-to-use software API. This API uses a HTTP-based scheme to interact with the system. Through the API you can among others: Read acoustic and global position data Read GPS and IMU raw data Read and set POIs Set configuration settings See demo.waterlinked.com/swagger for more information. Beacuse the API is based on HTTP and it is possible to use multiple different programing languages to interface it. In our examples on Github we use Python 2.7. How to install the requirements needed when using the API with Python is explained below. How to install requirements needed to use Water Linked API examples When starting to use the Water Linked software API you need to make sure you have all the requriments installed. First install Python 2.7 and pip: Windows: Guide Mac: It should be preinstalled. Check by using these command: python2 -V pip -V Linux: It should be preinstalled. Check by using these command: python2 --version pip --version Next you need to download/clone our the repository which is found on Github . Then you open a terminal in the directory where you saved the files and install the required Python packages using this command: Windows: python -m pip install -r requirements.txt Linux and Mac: pip install -r requirements.txt Once this is done you are ready to start interfacing the API. Example code which use the API can be found here . Providing depth to system when using Locator-A1/S1 Make sure you have completed the installation of the requirments found above. Then open a terminal window in the dictionary where the files are saved and run the command: python python externaldepth.py -d DEPTH_OF_LOCATOR -t TEMP_OF_WATER -u URL_OF_KIT -r REPETATION_RATE DEPTH_OF_LOCATOR: Is the current depth of the Locator. TEMP_OF_WATER: Is the temperature of the water where the Locator is operating in. URL_OF_KIT: Is the url of the kit. Usually: \"http://192.168.2.94\" REPETATION_RATE: If you want to repate the sending of depth it is the delay between each sending in seconds.","title":"API"},{"location":"explorer-kit/gui/api/#api","text":"The Underwater GPS system comes with an easy-to-use software API. This API uses a HTTP-based scheme to interact with the system. Through the API you can among others: Read acoustic and global position data Read GPS and IMU raw data Read and set POIs Set configuration settings See demo.waterlinked.com/swagger for more information. Beacuse the API is based on HTTP and it is possible to use multiple different programing languages to interface it. In our examples on Github we use Python 2.7. How to install the requirements needed when using the API with Python is explained below.","title":"API"},{"location":"explorer-kit/gui/api/#how-to-install-requirements-needed-to-use-water-linked-api-examples","text":"When starting to use the Water Linked software API you need to make sure you have all the requriments installed. First install Python 2.7 and pip: Windows: Guide Mac: It should be preinstalled. Check by using these command: python2 -V pip -V Linux: It should be preinstalled. Check by using these command: python2 --version pip --version Next you need to download/clone our the repository which is found on Github . Then you open a terminal in the directory where you saved the files and install the required Python packages using this command: Windows: python -m pip install -r requirements.txt Linux and Mac: pip install -r requirements.txt Once this is done you are ready to start interfacing the API. Example code which use the API can be found here .","title":"How to install requirements needed to use Water Linked API examples"},{"location":"explorer-kit/gui/api/#providing-depth-to-system-when-using-locator-a1s1","text":"Make sure you have completed the installation of the requirments found above. Then open a terminal window in the dictionary where the files are saved and run the command: python python externaldepth.py -d DEPTH_OF_LOCATOR -t TEMP_OF_WATER -u URL_OF_KIT -r REPETATION_RATE DEPTH_OF_LOCATOR: Is the current depth of the Locator. TEMP_OF_WATER: Is the temperature of the water where the Locator is operating in. URL_OF_KIT: Is the url of the kit. Usually: \"http://192.168.2.94\" REPETATION_RATE: If you want to repate the sending of depth it is the delay between each sending in seconds.","title":"Providing depth to system when using Locator-A1/S1"},{"location":"explorer-kit/gui/diagnostic/","text":"Diagnostics Verify Receiver signal strength in the diagnostic page on the web GUI by going to the diagnostic tab in the side panel on the left. This view will show the signal strength from all Receivers. It should look something like this: In the diagnostic plot you should see the signal from all 4 Receivers. The signals should be well above the noise floor. Interference Acoustic interference can be observed in the diagnostic plot. Echo sounders from your boat or nearby boats typically appears like burst noise. If it is coming from your boat, try to turn off the echo sounder to improve position accuracy. In case of interference from other acoustic sources, use the GUI to try other channels to avoid the interference.","title":"Diagnostic"},{"location":"explorer-kit/gui/diagnostic/#diagnostics","text":"Verify Receiver signal strength in the diagnostic page on the web GUI by going to the diagnostic tab in the side panel on the left. This view will show the signal strength from all Receivers. It should look something like this: In the diagnostic plot you should see the signal from all 4 Receivers. The signals should be well above the noise floor.","title":"Diagnostics"},{"location":"explorer-kit/gui/diagnostic/#interference","text":"Acoustic interference can be observed in the diagnostic plot. Echo sounders from your boat or nearby boats typically appears like burst noise. If it is coming from your boat, try to turn off the echo sounder to improve position accuracy. In case of interference from other acoustic sources, use the GUI to try other channels to avoid the interference.","title":"Interference"},{"location":"explorer-kit/gui/position/","text":"Position view The Underwater GPS GUI is web based. Using your favorite web browser, go the IP address as defined here . We currently support and recommend Chrome, Firefox and Safari. Attention Internet Explorer is not supported as of now.","title":"Position"},{"location":"explorer-kit/gui/position/#position-view","text":"The Underwater GPS GUI is web based. Using your favorite web browser, go the IP address as defined here . We currently support and recommend Chrome, Firefox and Safari. Attention Internet Explorer is not supported as of now.","title":"Position view"},{"location":"explorer-kit/gui/receivers/","text":"Receivers Receiver Guidelines You may place the Receivers at any location within 100m from the top-side housing / Master_D1. In order to ensure the best performance, you should follow a few guidelines: Line-of-sight Try to place the Receivers so they all have a free line-of-sight to the Locator. Good Separation The system performs better when there is a decent distance between the Receivers. More separation is better, but 2x2 meters is sufficient for good performance. Max Range There should be maximum of 100m from any Receiver to the Locator Receiver Depth Place the Receivers at a few meters depth. Near the surface there are typically small air bubbles caused by waves. These small air bubbles attenuate the acoustic signal and can reduce the system performance. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Receivers and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Receiver stability Add some weight to the Receiver cable just above the Receiver so they hang straight down in the water On board GPS If the master electronics is static during operation it is recommended to use the static option for the GPS. This is to remove the inaccuracy of the GPS Receiver in global position. Only use onboard GPS when the reference system is moving eg. if mounted to a boat. Reference Systems In order to calculate the absolute position of the Locator we need to define two reference systems, the acoustic and the global reference system. The global reference system is defined by latitude and longitude and is the reference system used by the GPS and in maps. The acoustic reference system (the x and y axis) is defined by the orientation of the housing. The housing is by definition located in origin (x=0, y=0). A label on top of the lid indicates the x-y coordinate system. Boat Example The illustration bellow shows a typical Receiver configuration when installed on a boat. The Receivers are hanging from the side of the boat, one in each corner. The depth of the Receivers are typically 2-4m, deep enough to get below the hull and get free line-of-sight to the Locator. Notice how the housing defines the origin and coordinate system of the acoustic reference system.","title":"Receivers"},{"location":"explorer-kit/gui/receivers/#receivers","text":"","title":"Receivers"},{"location":"explorer-kit/gui/receivers/#receiver-guidelines","text":"You may place the Receivers at any location within 100m from the top-side housing / Master_D1. In order to ensure the best performance, you should follow a few guidelines: Line-of-sight Try to place the Receivers so they all have a free line-of-sight to the Locator. Good Separation The system performs better when there is a decent distance between the Receivers. More separation is better, but 2x2 meters is sufficient for good performance. Max Range There should be maximum of 100m from any Receiver to the Locator Receiver Depth Place the Receivers at a few meters depth. Near the surface there are typically small air bubbles caused by waves. These small air bubbles attenuate the acoustic signal and can reduce the system performance. Limit search area You will get a better position if you help the search algorithm to narrow the search area. Limit the search range setting to the area where the Locator is expected to be. Directivity The Receivers and Locators are fully omnidirectional and transmits/receives equally good in all directions. The only direction with less performance is backwards where the cable enters. Receiver stability Add some weight to the Receiver cable just above the Receiver so they hang straight down in the water On board GPS If the master electronics is static during operation it is recommended to use the static option for the GPS. This is to remove the inaccuracy of the GPS Receiver in global position. Only use onboard GPS when the reference system is moving eg. if mounted to a boat.","title":"Receiver Guidelines"},{"location":"explorer-kit/gui/receivers/#reference-systems","text":"In order to calculate the absolute position of the Locator we need to define two reference systems, the acoustic and the global reference system. The global reference system is defined by latitude and longitude and is the reference system used by the GPS and in maps. The acoustic reference system (the x and y axis) is defined by the orientation of the housing. The housing is by definition located in origin (x=0, y=0). A label on top of the lid indicates the x-y coordinate system.","title":"Reference Systems"},{"location":"explorer-kit/gui/receivers/#boat-example","text":"The illustration bellow shows a typical Receiver configuration when installed on a boat. The Receivers are hanging from the side of the boat, one in each corner. The depth of the Receivers are typically 2-4m, deep enough to get below the hull and get free line-of-sight to the Locator. Notice how the housing defines the origin and coordinate system of the acoustic reference system.","title":"Boat Example"},{"location":"explorer-kit/gui/settings/","text":"Settings Locator setup In this section you choose which locator you are using with the system and on which channel it is sending. The Water Linked default channel is 17 and this is the channel that the Locator-S1 is running on. If using the Locator-U1 the channel needs to macth the rotary switch at the back of the U1. Warning If you are using the Locator-A1 or S1, you need to provid depth information to the topside unit. Description on how to do this is found here . Top-side Setup In this section you have the option to choose which GPS and IMU source you are going to use. We strongly advise to use static or external GPS when operation allow for it. Because the master-D1 electronics has a standard GPS receiver it has a standard deviation of around 2-3 meters. How to input external GPS and IMU with the API is decribed here . User preferences In the user preferences section you can select the unit of messurments you want to use. We support both Metric and Imperial. You can also select if you want a dummy boat to be displayed on the map pages and the receiver configuration page.","title":"Settings"},{"location":"explorer-kit/gui/settings/#settings","text":"","title":"Settings"},{"location":"explorer-kit/gui/settings/#locator-setup","text":"In this section you choose which locator you are using with the system and on which channel it is sending. The Water Linked default channel is 17 and this is the channel that the Locator-S1 is running on. If using the Locator-U1 the channel needs to macth the rotary switch at the back of the U1. Warning If you are using the Locator-A1 or S1, you need to provid depth information to the topside unit. Description on how to do this is found here .","title":"Locator setup"},{"location":"explorer-kit/gui/settings/#top-side-setup","text":"In this section you have the option to choose which GPS and IMU source you are going to use. We strongly advise to use static or external GPS when operation allow for it. Because the master-D1 electronics has a standard GPS receiver it has a standard deviation of around 2-3 meters. How to input external GPS and IMU with the API is decribed here .","title":"Top-side Setup"},{"location":"explorer-kit/gui/settings/#user-preferences","text":"In the user preferences section you can select the unit of messurments you want to use. We support both Metric and Imperial. You can also select if you want a dummy boat to be displayed on the map pages and the receiver configuration page.","title":"User preferences"},{"location":"locators/introduction/","text":"Locators The Locator is a transmitter which is placed on the underwater device which you want to position. The Underwater GPS system supports several different locators. A comparison table is found below. More in-depth information can be found on the following pages.","title":"Introduction"},{"location":"locators/introduction/#locators","text":"The Locator is a transmitter which is placed on the underwater device which you want to position. The Underwater GPS system supports several different locators. A comparison table is found below. More in-depth information can be found on the following pages.","title":"Locators"},{"location":"locators/locator-a1/","text":"Locator-A1 Description The Locator-A1 has the smallest physical footprint in our series of locators. It can be integrated into even the most compact ROVs. The Locator-A1 does not carry its own depth sensor so the Master-D1 requires the depth to be provided from your underwater vehicle (ROV etc.) This is acheived by using the included software API. Example of how to perform this can be found here . Wiring interface The tables below shows the pinning of the A1 interface connectors. Dimensions Datasheet","title":"Locator-A1"},{"location":"locators/locator-a1/#locator-a1","text":"","title":"Locator-A1"},{"location":"locators/locator-a1/#description","text":"The Locator-A1 has the smallest physical footprint in our series of locators. It can be integrated into even the most compact ROVs. The Locator-A1 does not carry its own depth sensor so the Master-D1 requires the depth to be provided from your underwater vehicle (ROV etc.) This is acheived by using the included software API. Example of how to perform this can be found here .","title":"Description"},{"location":"locators/locator-a1/#wiring-interface","text":"The tables below shows the pinning of the A1 interface connectors.","title":"Wiring interface"},{"location":"locators/locator-a1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"locators/locator-d1/","text":"Locator-D1 Description The Locator-D1 carries its own depth sensor and can therefore operate fully stand-alone and independent of the device you want to position. Warning The Locator-D1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings. Wiring interface The tables below shows the pinning of the D1 interface connectors. Dimensions Datasheet","title":"Locator-D1"},{"location":"locators/locator-d1/#locator-d1","text":"","title":"Locator-D1"},{"location":"locators/locator-d1/#description","text":"The Locator-D1 carries its own depth sensor and can therefore operate fully stand-alone and independent of the device you want to position. Warning The Locator-D1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings.","title":"Description"},{"location":"locators/locator-d1/#wiring-interface","text":"The tables below shows the pinning of the D1 interface connectors.","title":"Wiring interface"},{"location":"locators/locator-d1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"locators/locator-s1/","text":"Locator-S1 Description The Locator-S1 carries an internal GPS based time sync module. Because of this, the S1 does not require tether integration for top-side communication. It only requires external power 10-18V to be provided from the underwater device. Some Locator-S1 attributes can be configured using an integrated UART (3V3) interface. This configuration is optional and not required for normal operation. Before deployment in water, the Locator-S1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-S1 has lock it can operate for approximately 6 hours befor needing resync with GPS. Note The default channel for Locator-S1 is 17 on boot. As the Locator-S1 does not carry its own depth sensor, the depth needs to be provided from the underwater vehicle (ROV etc.) to the topside Master-D1 using the software API. Example of how to perform this can be found here . LED Signals No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive. Wiring interface The tables below shows the pinning of the S1 interface. Interface Color Positive (10-18V) Orange Negative Orange/White UART RX Brown UART TX Brown/White Terminal Interface The Locator-S1 has a simple 3.3 volt UART interface which is used to change the channel of the locator. Settings Value Baud rate 9600 Data parity stop 8N1 Flow control None Dimensions Datasheet","title":"Locator-S1"},{"location":"locators/locator-s1/#locator-s1","text":"","title":"Locator-S1"},{"location":"locators/locator-s1/#description","text":"The Locator-S1 carries an internal GPS based time sync module. Because of this, the S1 does not require tether integration for top-side communication. It only requires external power 10-18V to be provided from the underwater device. Some Locator-S1 attributes can be configured using an integrated UART (3V3) interface. This configuration is optional and not required for normal operation. Before deployment in water, the Locator-S1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-S1 has lock it can operate for approximately 6 hours befor needing resync with GPS. Note The default channel for Locator-S1 is 17 on boot. As the Locator-S1 does not carry its own depth sensor, the depth needs to be provided from the underwater vehicle (ROV etc.) to the topside Master-D1 using the software API. Example of how to perform this can be found here .","title":"Description"},{"location":"locators/locator-s1/#led-signals","text":"No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive.","title":"LED Signals"},{"location":"locators/locator-s1/#wiring-interface","text":"The tables below shows the pinning of the S1 interface. Interface Color Positive (10-18V) Orange Negative Orange/White UART RX Brown UART TX Brown/White","title":"Wiring interface"},{"location":"locators/locator-s1/#terminal-interface","text":"The Locator-S1 has a simple 3.3 volt UART interface which is used to change the channel of the locator. Settings Value Baud rate 9600 Data parity stop 8N1 Flow control None","title":"Terminal Interface"},{"location":"locators/locator-s1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"locators/locator-u1/","text":"Locator-U1 Description The Locator-U1 is a battery powered, digital hydro acoustic locator device. It carries an internal GPS based time sync module, which means no tether is required. This Locator fits well for divers, ROVs where power is not easily accessible, or other underwater applications. The internal battery is rechargeable using the USB-C cable that follows and standard 5V USB charger. Before deployment in water, the Locator-U1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-U1 has lock it can operate for approximately 6 hours befor needing resync with GPS. The Locator-U1 has a rotary switch located on the inside of the cap. This switch is used to change the channel on which the Locator is transmitting. The same channel needs to be selected in the Water Linked Underwater GPS GUI. The Locator has 3 mounting holes on each side for M3 screws. A default bracket is included. Charging Insert included USB-C cable into a wall adapter and connect it to the Locator-U1. The Locator LED will normally start pulsating while charging and turn solid green once charging has finished. Note : If battery voltage is too low, the pulsating will never start. The Locator will still charge regardless of the LED not showing the charge indication. Charging time is 7 hours. Powering on/off To power on the Locator-U1 simply tighten the lid over the charging port. The the LED will start to blinking indicating that the Locator is searching for GPS lock. The Locator is ready to use when the LED stops blinking and turns solid. Before powering on, ensure the O-ring within the lid is without damage. To power off the Locator-U1 unscrew the back lid until the LED turns off. LED Signals No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive. Pulsating green light : The Locator-U1 is charging. The unit is not ready to dive. Warning The Locator-U1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings. Wiring interface Because the U1 is battery powered the only interface for it is the charing port which is a standard USB-C type connector. Included in package Locator-U1 USB-C charging cable Bracket for mounting Dimensions Datasheet","title":"Locator-U1"},{"location":"locators/locator-u1/#locator-u1","text":"","title":"Locator-U1"},{"location":"locators/locator-u1/#description","text":"The Locator-U1 is a battery powered, digital hydro acoustic locator device. It carries an internal GPS based time sync module, which means no tether is required. This Locator fits well for divers, ROVs where power is not easily accessible, or other underwater applications. The internal battery is rechargeable using the USB-C cable that follows and standard 5V USB charger. Before deployment in water, the Locator-U1 needs to achieve a GPS lock. The integrated status-LED shows the condition of the GPS lock. Once the Locator-U1 has lock it can operate for approximately 6 hours befor needing resync with GPS. The Locator-U1 has a rotary switch located on the inside of the cap. This switch is used to change the channel on which the Locator is transmitting. The same channel needs to be selected in the Water Linked Underwater GPS GUI. The Locator has 3 mounting holes on each side for M3 screws. A default bracket is included.","title":"Description"},{"location":"locators/locator-u1/#charging","text":"Insert included USB-C cable into a wall adapter and connect it to the Locator-U1. The Locator LED will normally start pulsating while charging and turn solid green once charging has finished. Note : If battery voltage is too low, the pulsating will never start. The Locator will still charge regardless of the LED not showing the charge indication. Charging time is 7 hours.","title":"Charging"},{"location":"locators/locator-u1/#powering-onoff","text":"To power on the Locator-U1 simply tighten the lid over the charging port. The the LED will start to blinking indicating that the Locator is searching for GPS lock. The Locator is ready to use when the LED stops blinking and turns solid. Before powering on, ensure the O-ring within the lid is without damage. To power off the Locator-U1 unscrew the back lid until the LED turns off.","title":"Powering on/off"},{"location":"locators/locator-u1/#led-signals","text":"No green light: Power is off and the unit is not ready for diving. Flashing green light (once a second): Searching for GPS lock. The unit is not ready to dive. Fixed green light: GPS lock is acheived. The unit is ready to dive. Flashing green light (slow): GPS lock has been acheived but lost. The unit is ready to dive. Pulsating green light : The Locator-U1 is charging. The unit is not ready to dive. Warning The Locator-U1 can only be submerged for about 6 hours. It then needs to dry the pressure sensor in order to give correct depth readings.","title":"LED Signals"},{"location":"locators/locator-u1/#wiring-interface","text":"Because the U1 is battery powered the only interface for it is the charing port which is a standard USB-C type connector.","title":"Wiring interface"},{"location":"locators/locator-u1/#included-in-package","text":"Locator-U1 USB-C charging cable Bracket for mounting","title":"Included in package"},{"location":"locators/locator-u1/#dimensions","text":"Datasheet","title":"Dimensions"},{"location":"modems/modem-m64-protocol/","text":"Modem-M64 serial protocol This document describes the Water Linked Underwater Modem Link Layer protocol. Terminology Modem - Unit for transmitting/receiving data Packet - Unit of data transmitted together ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed. Version This document describes protocol/software version 1,0,x (major,minor,patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represents incompatible API changes, MINOR version increments represents added functionality in a backwards-compatible manner PATCH version increments represents backwards-compatible bug fixes Overview The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the modem start with a w and end with end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the modem and the modem replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked modems with different payload sizes and extended features. To support any Water Linked modem the connection procedure is to: Get protocol version. Verify that the major version number is 1. Get payload size. Use this size when queuing packets for transmission the modem. For Water Linked Modem-M64 the payload size is 8 bytes. In order for two modems to communicate they must be configured to use different roles (A/B) on the same channel. The modem with role A will always transmit. The modem will role B will listen until it detects a signal from a modem of role A. It will then start transmitting responses back to the modem with role A. The modem with role B will go back to listen mode if several consecutive packets from the modem with role A cannot be decoded (ie signal is lost). Note Payload where every byte is \\0 is reserved. It is used to keep modems in sync if no data packet is queued by the user. This sync packet is filtered out by the receiver. Avoid this payload by compressing the data or otherwise ensuring atleast 1 bit is non-zero. Checksum is optional when sending commands to the modem. The modem always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ). Commands Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,1,0,1 wcn Get supported payload size wrn, [size] Where size is supported payload size: eg: wrn,8 wcc Get modem configuration wrc, [role],[channel] Where role=a or b and channel=1-7 eg: wrc,a,3 wcs, [role],[channel] Set modem configuration - Where role=a or b and channel 1-7: eg: wrs,b,3 wrs,a or wrs,n ACK or NAK wcl Get transmit queue length wrl, [q] Number of packets currently queued for transmission. eg: wrl,107 wcf Flush transmit queue wrf,a or wrf,n ACK or NAK wcd Get diagnostic wrd, [link],[packet_count],[packet_loss_count],[bit_error_rate] link=y if connection with other modem, otherwise n. eg: wrd,y,1234,17,3.5 [1] wcq, [size],[payload] Queue packet for transmission. Number of characters in payload need to be exactly same as size. Payload can be binary. eg: wcq,8,HelloSea [2] wrq,a or wrq,n ACK or NAK wrp, [size],[payload] Got packet from other modem eg: wrp,8,Welcome! wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum [1] packet_count is the number of packets received. If a packet cannot be decoded the packet_loss_count increments regardless of the packet being queued data or a sync packet from the other modem. [2] Payload with just zeros ( \\0 ) is reseved for keeping the modems in sync if no packet is queued. It will be filtered out by the receiving modem. Examples Here is an example of setting up two modems and sending packets between them. On top side modem (using role A): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,a,3 wrs,a*01 Set role A and channel 3 wcq,8,HelloSea wrq,a*d7 Send packet Wait packet from other modem wrp,8,HelloTop*bb Got response On AUV/ROV modem (using role B): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,b,3 wrs,a*01 Set role B and channel 3 Wait packet from other modem wrp,8,HelloSea*58 Got packet wcq,8,HelloTop wrq,a*d7 Send response back","title":"Protocol"},{"location":"modems/modem-m64-protocol/#modem-m64-serial-protocol","text":"This document describes the Water Linked Underwater Modem Link Layer protocol.","title":"Modem-M64 serial protocol"},{"location":"modems/modem-m64-protocol/#terminology","text":"Modem - Unit for transmitting/receiving data Packet - Unit of data transmitted together ACK - Acknowledgement. The command issued was successful. NAK - Negative acknowledgement. The command issued failed.","title":"Terminology"},{"location":"modems/modem-m64-protocol/#version","text":"This document describes protocol/software version 1,0,x (major,minor,patch) The protocol versioning follows semantic versioning in that: MAJOR version increments represents incompatible API changes, MINOR version increments represents added functionality in a backwards-compatible manner PATCH version increments represents backwards-compatible bug fixes","title":"Version"},{"location":"modems/modem-m64-protocol/#overview","text":"The serial communication format is 115200 8-N-1 (no hardware flow control). Packets sent to and received from the modem start with a w and end with end with LF or CR+LF. The packet format is: Start byte Direction Command Options (0 to many) Checksum End byte w c or r x ,[option] *xx \\n or \\r\\n Direction is command ( c ) for commands issued to the modem and the modem replies with direction set to response ( r ). The commands can be sent as a string or entered one char at a time from a terminal. The protocol can support Water Linked modems with different payload sizes and extended features. To support any Water Linked modem the connection procedure is to: Get protocol version. Verify that the major version number is 1. Get payload size. Use this size when queuing packets for transmission the modem. For Water Linked Modem-M64 the payload size is 8 bytes. In order for two modems to communicate they must be configured to use different roles (A/B) on the same channel. The modem with role A will always transmit. The modem will role B will listen until it detects a signal from a modem of role A. It will then start transmitting responses back to the modem with role A. The modem with role B will go back to listen mode if several consecutive packets from the modem with role A cannot be decoded (ie signal is lost). Note Payload where every byte is \\0 is reserved. It is used to keep modems in sync if no data packet is queued by the user. This sync packet is filtered out by the receiver. Avoid this payload by compressing the data or otherwise ensuring atleast 1 bit is non-zero. Checksum is optional when sending commands to the modem. The modem always returns a checksum. The checksum algorithm is CRC-8 and it is formatted as a hexadecimal number using 2 lower-case charaters (ex: *c3 ).","title":"Overview"},{"location":"modems/modem-m64-protocol/#commands","text":"Commands in the table are shown without the checksum for readability. Command Description Response Description wcv Get protocol version wrv, [major],[minor],[patch] Protocol version. eg: wrv,1,0,1 wcn Get supported payload size wrn, [size] Where size is supported payload size: eg: wrn,8 wcc Get modem configuration wrc, [role],[channel] Where role=a or b and channel=1-7 eg: wrc,a,3 wcs, [role],[channel] Set modem configuration - Where role=a or b and channel 1-7: eg: wrs,b,3 wrs,a or wrs,n ACK or NAK wcl Get transmit queue length wrl, [q] Number of packets currently queued for transmission. eg: wrl,107 wcf Flush transmit queue wrf,a or wrf,n ACK or NAK wcd Get diagnostic wrd, [link],[packet_count],[packet_loss_count],[bit_error_rate] link=y if connection with other modem, otherwise n. eg: wrd,y,1234,17,3.5 [1] wcq, [size],[payload] Queue packet for transmission. Number of characters in payload need to be exactly same as size. Payload can be binary. eg: wcq,8,HelloSea [2] wrq,a or wrq,n ACK or NAK wrp, [size],[payload] Got packet from other modem eg: wrp,8,Welcome! wr? Malformed request: Response when packet cannot be understood wr! Malformed request: Packet does not match the given checksum [1] packet_count is the number of packets received. If a packet cannot be decoded the packet_loss_count increments regardless of the packet being queued data or a sync packet from the other modem. [2] Payload with just zeros ( \\0 ) is reseved for keeping the modems in sync if no packet is queued. It will be filtered out by the receiving modem.","title":"Commands"},{"location":"modems/modem-m64-protocol/#examples","text":"Here is an example of setting up two modems and sending packets between them. On top side modem (using role A): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,a,3 wrs,a*01 Set role A and channel 3 wcq,8,HelloSea wrq,a*d7 Send packet Wait packet from other modem wrp,8,HelloTop*bb Got response On AUV/ROV modem (using role B): Command Response Description wcv wrv,1,0,1*44 Get protocol version wcn wrn,8*ba Get payload size wcs,b,3 wrs,a*01 Set role B and channel 3 Wait packet from other modem wrp,8,HelloSea*58 Got packet wcq,8,HelloTop wrq,a*d7 Send response back","title":"Examples"},{"location":"modems/modem-m64/","text":"Modem-M64 Description The Modem M64 is a two-way half-duplex 64bps acoustic modem with a robust and user configurable data link. The M64 sets a new market standard with its record-breaking physical size, low power requirement and cost. All this combined with a very useful technical specification, the M64 opens new possibilities for underwater communication in both existing and new areas. Key specifications Two-way communication 64 bit per second net data link, both ways Latency 1.5 \u2013 2.5 sec 200 meter range LED Signals No green light: Power is off. Flashing green light (slow): Modem is trying to pair with another modem. Fixed green light: Modem has sync with another modem. The LED will blink each time it receives a packet from the other modem. Wiring interface The tables below shows the pinning of the Modem-M64 interface. Interface Color Positive (10-18V) Orange Negative/Ground Orange/White UART RX Brown UART TX Brown/White Terminal Interface The Modem-M64 has a 3.3 volt UART interface. Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None Libraries and code examples Example code and libraries that can be used to communicate with the modem on the terminal interface: Python Dimensions","title":"Modem-M64"},{"location":"modems/modem-m64/#modem-m64","text":"","title":"Modem-M64"},{"location":"modems/modem-m64/#description","text":"The Modem M64 is a two-way half-duplex 64bps acoustic modem with a robust and user configurable data link. The M64 sets a new market standard with its record-breaking physical size, low power requirement and cost. All this combined with a very useful technical specification, the M64 opens new possibilities for underwater communication in both existing and new areas.","title":"Description"},{"location":"modems/modem-m64/#key-specifications","text":"Two-way communication 64 bit per second net data link, both ways Latency 1.5 \u2013 2.5 sec 200 meter range","title":"Key specifications"},{"location":"modems/modem-m64/#led-signals","text":"No green light: Power is off. Flashing green light (slow): Modem is trying to pair with another modem. Fixed green light: Modem has sync with another modem. The LED will blink each time it receives a packet from the other modem.","title":"LED Signals"},{"location":"modems/modem-m64/#wiring-interface","text":"The tables below shows the pinning of the Modem-M64 interface. Interface Color Positive (10-18V) Orange Negative/Ground Orange/White UART RX Brown UART TX Brown/White","title":"Wiring interface"},{"location":"modems/modem-m64/#terminal-interface","text":"The Modem-M64 has a 3.3 volt UART interface. Settings Value Baud rate 115200 Data parity stop 8N1 Flow control None","title":"Terminal Interface"},{"location":"modems/modem-m64/#libraries-and-code-examples","text":"Example code and libraries that can be used to communicate with the modem on the terminal interface: Python","title":"Libraries and code examples"},{"location":"modems/modem-m64/#dimensions","text":"","title":"Dimensions"}]}